// Generated by CoffeeScript 1.4.0
(function() {
  var App;

  App = angular.module('App', ['ngAnimate']);

  App.config(function($httpProvider) {
    return $httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';
  });

  App.controller('base', function($rootScope, $scope) {
    $rootScope.slidePageUrl = '';
    $rootScope.closePage = function(event) {
      if ($rootScope.slidePageUrl === '') {
        return;
      }
      $rootScope.slidePageUrl = '';
    };
    $scope.btnNavText = function() {
      if ($scope.showNav) {
        return 'âœ•';
      } else {
        return 'N';
      }
    };
    $scope.$on('$includeContentRequested', function() {
      return $scope.loading = true;
    });
    return $scope.$on('$includeContentLoaded', function() {
      return $scope.loading = false;
    });
  });

  App.directive('turbolink', function($http, $rootScope, $document) {
    return {
      restrict: 'A',
      scope: false,
      link: function(scope, element, attrs) {
        element.on('click', function(event) {
          event.preventDefault();
          if ($rootScope.slidePageUrl !== '') {
            return;
          }
          event.stopPropagation();
          $rootScope.slidePageUrl = attrs.href;
          return scope.$digest();
        });
      }
    };
  });

  App.directive('foldList', function() {
    return {
      restrict: 'A',
      scope: false,
      link: function(scope, element, attrs) {
        var li;
        li = element.find('li');
        if (li.length === 0) {
          return;
        }
        li.hide();
        element.append('<fold>+</fold>');
        element.find('fold').on('click', function() {
          return li.toggle();
        });
      }
    };
  });

}).call(this);
